define(["angular","common/Config","IScroll","common/service"],function(o,e,a){"use strict";var r=o.module("book.controller",["Config","app.service"]);r.controller("bookController",["$rootScope","$scope","Config","$http","HttpService",function(o,e,r,l,c){console.log("bookController"),console.log(r.book_search),e.keyword="谁的青春不迷茫",c.querywithParams(r.book_search+"?callback=searchBookList&count=10&q="+e.keyword),window.searchBookList=function(r){console.log(r),r.books.length&&(o.isNoLoaded=!1);for(var l=[],c=0;c<r.books.length;c++){var t=r.books[c],i={id:t.id,image:t.image,origin_title:t.title||"书名未共享",author:t.author[0]||"作者未知",publisher:t.publisher||"出版社未知",price:t.price.split(".")[0]||"未知",pages:t.pages};l.push(i)}e.data=l;var n=document.getElementById("wrapper");console.log(n);new a(n,{click:!0,mouseWheel:!0})},e.data=[];for(var t=0;10>t;t++)e.data.push({id:t,name:"jay"+t});e.search=function(){""==e.keyword||void 0==e.keyword?o.bookList={}:c.querywithParams(r.book_search+"?callback=searchBookList&count=10&q="+e.keyword)}}]),r.controller("bookDetailController",["$scope","Config","$http","$stateParams",function(o,e,a,r){console.log(r.id),a.jsonp(e.book_search_id+r.id+"?callback=callback_bookDetail&"),window.callback_bookDetail=function(e){console.log(e),o.data=e}}])});