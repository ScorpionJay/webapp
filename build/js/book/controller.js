define(["angular","common/Config","IScroll"],function(o,e,a){"use strict";var l=o.module("book.controller",["Config"]);l.controller("bookController",["$rootScope","$scope","Config","$http",function(o,e,l,n){console.log("bookController"),console.log(l.book_search);var r="angular";n.jsonp(l.book_search+"?callback=searchBookList&count=10&q="+r),window.searchBookList=function(l){console.log(l),l.books.length&&(o.isNoLoaded=!1);for(var n=[],r=0;r<l.books.length;r++){var t=l.books[r],c={id:t.id,image:t.image,origin_title:t.title||"书名未共享",author:t.author[0]||"作者未知",publisher:t.publisher||"出版社未知",price:t.price.split(".")[0]||"未知",pages:t.pages};n.push(c)}e.data=n;var i=document.getElementById("wrapper");console.log(i);new a(i)},e.data=[];for(var t=0;10>t;t++)e.data.push({id:t,name:"jay"+t});e.search=function(){""==e.keyword||void 0==e.keyword?o.bookList={}:n.jsonp(l.book_search+"?callback=searchBookList&count=10&q="+e.keyword)}}]),l.controller("bookDetailController",["$scope","Config","$http","$stateParams",function(o,e,a,l){console.log(l.id),a.jsonp(e.book_search_id+l.id+"?callback=callback_bookDetail&"),window.callback_bookDetail=function(e){console.log(e),o.data=e}}])});