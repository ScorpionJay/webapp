define(["angular","common/Config","IScroll","common/service"],function(o,e,a){"use strict";var r=o.module("book.controller",["Config","app.service"]);r.controller("bookController",["$rootScope","$scope","Config","$http","HttpService",function(o,e,r,t,l){console.log("bookController"),console.log(r.book_search),e.keyword="谁的青春不迷茫",l.querywithParams(r.book_search+"?callback=searchBookList&count=10&q="+e.keyword),window.searchBookList=function(r){console.log(r),r.books.length&&(o.isNoLoaded=!1);for(var t=[],l=0;l<r.books.length;l++){var c=r.books[l],i={id:c.id,image:c.image,origin_title:c.title||"书名未共享",author:c.author[0]||"作者未知",publisher:c.publisher||"出版社未知",price:c.price.split(".")[0]||"未知",pages:c.pages};t.push(i)}e.data=t;var n=document.getElementById("wrapper");console.log(n);new a(n)},e.data=[];for(var c=0;10>c;c++)e.data.push({id:c,name:"jay"+c});e.search=function(){""==e.keyword||void 0==e.keyword?o.bookList={}:l.querywithParams(r.book_search+"?callback=searchBookList&count=10&q="+e.keyword)}}]),r.controller("bookDetailController",["$scope","Config","$http","$stateParams",function(o,e,a,r){console.log(r.id),a.jsonp(e.book_search_id+r.id+"?callback=callback_bookDetail&"),window.callback_bookDetail=function(e){console.log(e),o.data=e}}])});